(this["webpackJsonpproject-bg"]=this["webpackJsonpproject-bg"]||[]).push([[0],[,,,,,,,,,,,,function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},,,,,,function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=23},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var c=t(1),a=t(6),o=t.n(a),r=t(2),i=t(3),u=(t(12),t(0)),l=function(e){e.gamePhase;return Object(u.jsx)("div",{id:"bg",children:Object(u.jsx)("div",{className:"noise"})})};l.defaultProps={gamePhase:null};var s=l,b=(t(14),function(e){var n=e.text,t=e.icon,c=e.onClick,a=e.disabled;return Object(u.jsxs)("button",{className:"simple-button"+(a?" disabled":""),type:"button",onClick:c,children:[t&&Object(u.jsx)("span",{className:"material-icons-round",children:t}),n&&n]})});b.defaultProps={text:null,icon:null,onClick:function(){},disabled:!1};var j=b,d=(t(15),function(e){var n=e.label,t=e.value,a=e.setValue,o=e.placeholder,r=Object(c.useState)(!1),l=Object(i.a)(r,2),s=l[0],b=l[1],j=Object(c.useCallback)((function(e){a(e.target.value)})),d=Object(c.useCallback)((function(){b(!0)})),O=Object(c.useCallback)((function(){b(!1)}));return Object(u.jsxs)("div",{className:"text-input"+(s?" active":"")+(t?" filled":""),children:[Object(u.jsx)("label",{children:n}),Object(u.jsx)("input",{type:"text",value:t,onChange:j,placeholder:o,onFocus:d,onBlur:O,required:"required"})]})});d.defaultProps={label:null,value:null,placeholder:null};var O=d,p="menu",m="lobby_pregame",f="join_lobby_pregame",x="region_roulette",h="CLIENT_DATA",g=[{id:1,name:"Abruzzo",populations:1322247},{id:2,name:"Basilicata",populations:570365},{id:3,name:"Calabria",populations:1965128},{id:4,name:"Campania",populations:5839084},{id:5,name:"Emilia-Romagna",populations:4448841},{id:6,name:"Friuli-Venezia Giulia",populations:1217872},{id:7,name:"Lazio",populations:5898124},{id:8,name:"Liguria",populations:1565307},{id:9,name:"Lombardia",populations:10018806},{id:10,name:"Marche",populations:1538055},{id:11,name:"Molise",populations:310449},{id:12,name:"Piemonte",populations:4392526},{id:13,name:"Puglia",populations:4063888},{id:14,name:"Sardegna",populations:1653135},{id:15,name:"Sicilia",populations:5056641},{id:16,name:"Toscana",populations:3742437},{id:17,name:"Trentino-Alto Adige",populations:1062860},{id:18,name:"Umbria",populations:888908},{id:19,name:"Valle d'Aosta",populations:126883},{id:20,name:"Veneto",populations:4907529}],C=(t(16),function(e){var n=e.userName,t=e.changeUserName,a=e.changeClientScene,o=Object(c.useState)(n),r=Object(i.a)(o,2),l=r[0],s=r[1],b=Object(c.useCallback)((function(){t(l),a(m)}),[l]),d=Object(c.useCallback)((function(){t(l),a(f)}),[l]);return Object(u.jsxs)("div",{id:"menu",children:[Object(u.jsx)(O,{label:"Name",value:l,setValue:s}),Object(u.jsx)(j,{text:"Create campaign",icon:"add",onClick:b,disabled:0===l.length}),Object(u.jsx)(j,{text:"Join campaign",icon:"login",onClick:d,disabled:0===l.length})]})});C.defaultProps={};var y=C,v=(t(17),function(e){var n=e.clientData,t=e.changeClientScene;return Object(u.jsxs)("div",{id:"pregame",children:[Object(u.jsxs)("div",{className:"lobby-key",children:["Lobby code:",Object(u.jsx)("span",{className:"selectable",children:n.currentLobbyKey})]}),Object(u.jsxs)("div",{className:"player blue",children:[Object(u.jsx)("span",{className:"icon material-icons-round",children:"face"}),Object(u.jsx)("span",{children:n.userName+" (you)"})]}),Object(u.jsxs)("div",{className:"player red",children:[Object(u.jsx)("span",{className:"icon material-icons-outlined",children:"smart_toy"}),Object(u.jsx)("span",{children:"Player red (bot)"})]}),Object(u.jsxs)("div",{className:"player green",children:[Object(u.jsx)("span",{className:"icon material-icons-outlined",children:"smart_toy"}),Object(u.jsx)("span",{children:"Player green (bot)"})]}),Object(u.jsxs)("div",{className:"player yellow",children:[Object(u.jsx)("span",{className:"icon material-icons-outlined",children:"smart_toy"}),Object(u.jsx)("span",{children:"Player yellow (bot)"})]}),Object(u.jsx)(j,{text:"Back",icon:"arrow_back",onClick:function(){return t(p)}}),Object(u.jsx)(j,{text:"Start",icon:"play_arrow",onClick:function(){}})]})});v.defaultProps={};var k=v,N=t(7),S=function(){for(var e=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=0;t<4;t++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")},w=t.n(N)()(["https://project-bg.herokuapp.com/gun"]),D=function(e,n){var t;w.get(e.currentLobbyKey).on((function(e,t,c,a){n(e)}),!0),t=e.currentLobbyKey,w.get(t).put(null),L(e)},L=function(e){var n=e.deviceId;w.get(e.currentLobbyKey).put({users:{myData:n}},(function(e){}))},P=(t(24),function(e){var n=e.changeCurrentLobbyKey,t=e.changeClientScene,a=Object(c.useState)(""),o=Object(i.a)(a,2),r=o[0],l=o[1],s=Object(c.useCallback)((function(){n(r),t(m)}),[r]),b=Object(c.useCallback)((function(e){l(e.toUpperCase())}),[]);return Object(u.jsxs)("div",{id:"join_pregame",children:[Object(u.jsx)(O,{label:"Lobby code",value:r,setValue:b}),Object(u.jsx)(j,{text:"Back",icon:"arrow_back",onClick:function(){return t(p)}}),Object(u.jsx)(j,{text:"Join campaign",icon:"login",onClick:s,disabled:4!==r.length})]})});P.defaultProps={};var _=P,U=(t(25),function(e){var n=e.changeClientScene,t=e.gameData,a=(e.changeGameData,Object(c.useMemo)((function(){var e=t.regions_played.map((function(e){return e.id})),n=Object.keys(g).map((function(n){return e.includes(g[n].id)?null:g[n].id})).filter((function(e){return e})),c=n[Math.floor(Math.random()*n.length)];return g.filter((function(e){return e.id===c}))[0]}),[t]));return Object(u.jsxs)("div",{id:"region-roulette",children:[Object(u.jsxs)("div",{className:"choosen-region",children:[Object(u.jsx)("label",{children:"Name:"}),Object(u.jsx)("span",{children:a.name}),Object(u.jsx)("label",{children:"Populations:"}),Object(u.jsx)("span",{children:a.populations.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"'")})]}),Object(u.jsx)(j,{text:"Continue",icon:"play_arrow",onClick:function(){return n(x)}})]})});U.defaultProps={};var K=U,M=(t(26),function(e){var n=e.cursorData,t=e.changeCursorX,a=e.changeCursorY,o=e.changeCursorHide,r=e.changeCursorUp,i=e.changeCursorDown,l=Object(c.useMemo)((function(){return[n.hide?"hidden":null,n.mouseDown?"down":null,n.mouseUp?"up":null].filter((function(e){return!!e}))}),[n.hide,n.mouseDown,n.mouseUp]),s=Object(c.useCallback)((function(e){var n=e||window.event;t(n.x),a(n.y)}),[]),b=Object(c.useCallback)((function(){o(!1)}),[]),j=Object(c.useCallback)((function(){r(!1),o(!0)}),[]),d=Object(c.useCallback)((function(){r(!1),i(!0)}),[]),O=Object(c.useCallback)((function(){i(!1),r(!0)}),[]),p=Object(c.useCallback)((function(e){return e.preventDefault(),!1}),[]);return Object(c.useEffect)((function(){document.onmousemove=s,document.onmouseenter=b,document.onmouseleave=j,document.onmousedown=d,document.onmouseup=O,document.oncontextmenu=p})),Object(u.jsxs)("div",{id:"cursor",className:l,style:{transform:"translate("+n.x+"px, "+n.y+"px)"},children:[Object(u.jsx)("div",{className:"cursor"}),Object(u.jsx)("div",{className:"text",children:n.text})]})});M.defaultProps={};var E=M,A=(t(27),function(){var e=Object(c.useState)((function(){var e=localStorage.getItem(h);if(null!==e)return JSON.parse(e);var n={deviceId:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)})),clientScene:p,userName:"",currentLobbyKey:S(),cursor:{x:0,y:0,mouseUp:!1,mouseDown:!1,hide:!0,text:""}};return localStorage.setItem(h,JSON.stringify(n)),n})),n=Object(i.a)(e,2),t=n[0],a=n[1];Object(c.useEffect)((function(){L(t),localStorage.setItem(h,JSON.stringify(t))}),[t]);var o=Object(c.useCallback)((function(e){a((function(n){return Object(r.a)(Object(r.a)({},n),{},{clientScene:e})}))}),[]),l=Object(c.useCallback)((function(e){a((function(n){return Object(r.a)(Object(r.a)({},n),{},{userName:e})}))}),[]),b=Object(c.useCallback)((function(e){a((function(n){return leaveGame(n.currentLobbyKey),Object(r.a)(Object(r.a)({},n),{},{currentLobbyKey:e})}))}),[]),j=(Object(c.useCallback)((function(e){a((function(n){return Object(r.a)(Object(r.a)({},n),{},{cursor:e})}))}),[]),Object(c.useCallback)((function(e){a((function(n){return Object(r.a)(Object(r.a)({},n),{},{cursor:Object(r.a)(Object(r.a)({},n.cursor),{},{x:e})})}))}),[])),d=Object(c.useCallback)((function(e){a((function(n){return Object(r.a)(Object(r.a)({},n),{},{cursor:Object(r.a)(Object(r.a)({},n.cursor),{},{y:e})})}))}),[]),O=Object(c.useCallback)((function(e){a((function(n){return Object(r.a)(Object(r.a)({},n),{},{cursor:Object(r.a)(Object(r.a)({},n.cursor),{},{mouseUp:e})})}))}),[]),g=Object(c.useCallback)((function(e){a((function(n){return Object(r.a)(Object(r.a)({},n),{},{cursor:Object(r.a)(Object(r.a)({},n.cursor),{},{mouseDown:e})})}))}),[]),C=Object(c.useCallback)((function(e){a((function(n){return Object(r.a)(Object(r.a)({},n),{},{cursor:Object(r.a)(Object(r.a)({},n.cursor),{},{hide:e})})}))}),[]),v=Object(c.useState)(null),N=Object(i.a)(v,2),w=N[0],P=N[1];return Object(c.useEffect)((function(){null!==t.currentLobbyKey&&""!==t.currentLobbyKey&&D(t,P)}),[]),Object(c.useEffect)((function(){console.log("gameData changed: ",Object(r.a)({},w))}),[w]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(s,{}),p===t.clientScene&&Object(u.jsx)(y,{userName:t.userName,changeUserName:l,changeClientScene:o}),m===t.clientScene&&Object(u.jsx)(k,{clientData:t,changeClientScene:o}),f===t.clientScene&&Object(u.jsx)(_,{changeCurrentLobbyKey:b,changeClientScene:o}),x===t.clientScene&&Object(u.jsx)(K,{changeClientScene:o}),t.cursor&&Object(u.jsx)(E,{cursorData:t.cursor,changeCursorX:j,changeCursorY:d,changeCursorUp:O,changeCursorDown:g,changeCursorHide:C})]})});o.a.render(Object(u.jsx)(A,{}),document.getElementById("app"))}],[[28,1,2]]]);
//# sourceMappingURL=main.b6a7ede1.chunk.js.map