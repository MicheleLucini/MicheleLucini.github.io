{"version":3,"sources":["scenes/background/Background.jsx","scenes/background/index.js","components/button/Button.jsx","components/button/index.js","logic/constants.js","scenes/menu/Menu.jsx","scenes/menu/index.js","scenes/pregame/Pregame.jsx","scenes/pregame/index.js","scenes/regionRoulette/RegionRoulette.jsx","scenes/regionRoulette/index.js","components/cursor/Cursor.jsx","components/cursor/index.js","App.jsx","index.js"],"names":["Background","gamePhase","id","className","defaultProps","Button","text","icon","onClick","type","GAME_PHASES","LSKEY","REGIONS","name","populations","Menu","changePhase","Pregame","changeGameData","startCampaign","useCallback","regions_played","RegionRoulette","gameData","choosenRegion","useMemo","usedRegions","map","r","unusedRegions","Object","keys","keyName","includes","filter","x","Math","floor","random","length","obj","toString","replace","Cursor","useState","hide","setHide","mouseDown","setMouseDown","mouseUp","setMouseUp","setX","y","setY","cursorClass","handleMouseMove","event","e","window","handleMouseEnter","handleMouseLeave","handleMouseDown","handleMouseUp","handleContextMenu","preventDefault","useEffect","document","onmousemove","onmouseenter","onmouseleave","onmousedown","onmouseup","oncontextmenu","style","transform","App","localStorage","getItem","setGamePhase","JSON","parse","setGameData","newPhase","setItem","newGameData","console","log","stringify","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9e598704.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./background.css\";\r\n\r\nconst Background = ({ gamePhase }) => {\r\n  return (\r\n    <div id=\"bg\">\r\n      <div className=\"noise\"></div>\r\n      {/* <div></div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nBackground.propTypes = {\r\n  gamePhase: PropTypes.string,\r\n};\r\n\r\nBackground.defaultProps = {\r\n  gamePhase: null,\r\n};\r\n\r\nexport default Background;\r\n","import Background from './Background';\r\n\r\nexport default Background;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./button.css\";\r\n\r\nconst Button = ({ text, icon, onClick }) => {\r\n  return (\r\n    <button className=\"simple-button\" type=\"button\" onClick={onClick}>\r\n      {icon && <span className=\"material-icons-round\">{icon}</span>}\r\n      {text && text}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  text: PropTypes.string,\r\n  icon: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nButton.defaultProps = {\r\n  text: null,\r\n  icon: null,\r\n  onClick: () => {},\r\n};\r\n\r\nexport default Button;\r\n","import Button from './Button';\r\n\r\nexport default Button;\r\n","export const GAME_PHASES = {\r\n  MENU: \"menu\",\r\n  LOBBY_PREGAME: \"lobby_pregame\",\r\n  REGION_ROULETTE: \"region_roulette\",\r\n};\r\n\r\nexport const LSKEY = {\r\n  GAME_PHASE: \"game_phase\",\r\n  GAME_DATA: \"game_data\",\r\n};\r\n\r\nexport const REGIONS = [\r\n  { id: 1, name: \"Abruzzo\", populations: 1322247 },\r\n  { id: 2, name: \"Basilicata\", populations: 570365 },\r\n  { id: 3, name: \"Calabria\", populations: 1965128 },\r\n  { id: 4, name: \"Campania\", populations: 5839084 },\r\n  { id: 5, name: \"Emilia-Romagna\", populations: 4448841 },\r\n  { id: 6, name: \"Friuli-Venezia Giulia\", populations: 1217872 },\r\n  { id: 7, name: \"Lazio\", populations: 5898124 },\r\n  { id: 8, name: \"Liguria\", populations: 1565307 },\r\n  { id: 9, name: \"Lombardia\", populations: 10018806 },\r\n  { id: 10, name: \"Marche\", populations: 1538055 },\r\n  { id: 11, name: \"Molise\", populations: 310449 },\r\n  { id: 12, name: \"Piemonte\", populations: 4392526 },\r\n  { id: 13, name: \"Puglia\", populations: 4063888 },\r\n  { id: 14, name: \"Sardegna\", populations: 1653135 },\r\n  { id: 15, name: \"Sicilia\", populations: 5056641 },\r\n  { id: 16, name: \"Toscana\", populations: 3742437 },\r\n  { id: 17, name: \"Trentino-Alto Adige\", populations: 1062860 },\r\n  { id: 18, name: \"Umbria\", populations: 888908 },\r\n  { id: 19, name: \"Valle d'Aosta\", populations: 126883 },\r\n  { id: 20, name: \"Veneto\", populations: 4907529 },\r\n];\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"../../components/button\";\r\nimport { GAME_PHASES } from \"../../logic/constants\";\r\n\r\nimport \"./menu.css\";\r\n\r\nconst Menu = ({ changePhase }) => {\r\n  return (\r\n    <div id=\"menu\">\r\n      <Button\r\n        text=\"Start campaign\"\r\n        icon=\"play_arrow\"\r\n        onClick={() => changePhase(GAME_PHASES.LOBBY_PREGAME)}\r\n      ></Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nMenu.propTypes = {\r\n  changePhase: PropTypes.func.isRequired,\r\n};\r\n\r\nMenu.defaultProps = {};\r\n\r\nexport default Menu;\r\n","import Menu from './Menu';\r\n\r\nexport default Menu;\r\n","import React, { useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"../../components/button\";\r\nimport { GAME_PHASES } from \"../../logic/constants\";\r\n\r\nimport \"./pregame.css\";\r\n\r\nconst Pregame = ({ changePhase, changeGameData }) => {\r\n  const startCampaign = useCallback(() => {\r\n    changeGameData({\r\n      regions_played: [],\r\n    });\r\n    changePhase(GAME_PHASES.REGION_ROULETTE);\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"pregame\">\r\n      <div className=\"player blue\">\r\n        <span className=\"icon material-icons-round\">face</span>\r\n        <span>Player blue (you)</span>\r\n      </div>\r\n      <div className=\"player red\">\r\n        <span className=\"icon material-icons-outlined\">smart_toy</span>\r\n        <span>Player red (bot)</span>\r\n      </div>\r\n      <div className=\"player green\">\r\n        <span className=\"icon material-icons-outlined\">smart_toy</span>\r\n        <span>Player green (bot)</span>\r\n      </div>\r\n      <div className=\"player yellow\">\r\n        <span className=\"icon material-icons-outlined\">smart_toy</span>\r\n        <span>Player yellow (bot)</span>\r\n      </div>\r\n      <Button\r\n        text=\"Back\"\r\n        icon=\"arrow_back\"\r\n        onClick={() => changePhase(GAME_PHASES.MENU)}\r\n      ></Button>\r\n      <Button text=\"Start\" icon=\"play_arrow\" onClick={startCampaign}></Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nPregame.propTypes = {\r\n  changePhase: PropTypes.func.isRequired,\r\n  changeGameData: PropTypes.func.isRequired,\r\n};\r\n\r\nPregame.defaultProps = {};\r\n\r\nexport default Pregame;\r\n","import Pregame from './Pregame';\r\n\r\nexport default Pregame;\r\n","import React, { useMemo } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"../../components/button\";\r\nimport { GAME_PHASES, REGIONS } from \"../../logic/constants\";\r\n\r\nimport \"./regionRoulette.css\";\r\n\r\nconst RegionRoulette = ({ changePhase, gameData, changeGameData }) => {\r\n  const choosenRegion = useMemo(() => {\r\n    const usedRegions = gameData.regions_played.map((r) => r.id);\r\n    const unusedRegions = Object.keys(REGIONS)\r\n      .map((keyName) =>\r\n        !usedRegions.includes(REGIONS[keyName].id) ? REGIONS[keyName].id : null\r\n      )\r\n      .filter((x) => x);\r\n    const id = unusedRegions[Math.floor(Math.random() * unusedRegions.length)];\r\n    return REGIONS.filter((obj) => obj.id === id)[0];\r\n  }, [gameData]);\r\n\r\n  return (\r\n    <div id=\"region-roulette\">\r\n      <div className=\"choosen-region\">\r\n        <label>Name:</label>\r\n        <span>{choosenRegion.name}</span>\r\n        <label>Populations:</label>\r\n        <span>\r\n          {choosenRegion.populations\r\n            .toString()\r\n            .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \"'\")}\r\n        </span>\r\n      </div>\r\n      <Button\r\n        text=\"Continue\"\r\n        icon=\"play_arrow\"\r\n        onClick={() => changePhase(GAME_PHASES.REGION_ROULETTE)}\r\n      ></Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nRegionRoulette.propTypes = {\r\n  changePhase: PropTypes.func.isRequired,\r\n  changeGameData: PropTypes.func.isRequired,\r\n};\r\n\r\nRegionRoulette.defaultProps = {};\r\n\r\nexport default RegionRoulette;\r\n","import RegionRoulette from './RegionRoulette';\r\n\r\nexport default RegionRoulette;\r\n","import React, { useMemo, useCallback, useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./cursor.css\";\r\n\r\nconst Cursor = ({}) => {\r\n  const [hide, setHide] = useState(true);\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n  const [mouseUp, setMouseUp] = useState(false);\r\n  const [x, setX] = useState(0);\r\n  const [y, setY] = useState(0);\r\n\r\n  const cursorClass = useMemo(\r\n    () =>\r\n      [\r\n        hide ? \"hidden\" : null,\r\n        mouseDown ? \"down\" : null,\r\n        mouseUp ? \"up\" : null,\r\n      ].filter((x) => !!x),\r\n    [hide, mouseDown, mouseUp]\r\n  );\r\n\r\n  const handleMouseMove = useCallback((event) => {\r\n    const e = event || window.event;\r\n    setX(e.x);\r\n    setY(e.y);\r\n  }, []);\r\n\r\n  const handleMouseEnter = useCallback(() => setHide(false), []);\r\n\r\n  const handleMouseLeave = useCallback(() => {\r\n    setMouseUp(false);\r\n    setHide(true);\r\n  }, []);\r\n\r\n  const handleMouseDown = useCallback(() => {\r\n    setMouseUp(false);\r\n    setMouseDown(true);\r\n  }, []);\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setMouseDown(false);\r\n    setMouseUp(true);\r\n  }, []);\r\n\r\n  const handleContextMenu = useCallback((event) => {\r\n    event.preventDefault();\r\n    return false;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.onmousemove = handleMouseMove;\r\n    document.onmouseenter = handleMouseEnter;\r\n    document.onmouseleave = handleMouseLeave;\r\n    document.onmousedown = handleMouseDown;\r\n    document.onmouseup = handleMouseUp;\r\n    document.oncontextmenu = handleContextMenu;\r\n  });\r\n\r\n  return (\r\n    <div\r\n      id=\"cursor\"\r\n      className={cursorClass}\r\n      style={{ transform: \"translate(\" + x + \"px, \" + y + \"px)\" }}\r\n    >\r\n      <div className=\"cursor\"></div>\r\n      <div className=\"text\">Wtf is this cursor?</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCursor.propTypes = {};\r\n\r\nCursor.defaultProps = {};\r\n\r\nexport default Cursor;\r\n","import Cursor from \"./Cursor\";\r\n\r\nexport default Cursor;\r\n","import React, { useState, useCallback } from \"react\";\n\nimport Background from \"./scenes/background\";\nimport Menu from \"./scenes/menu\";\nimport Pregame from \"./scenes/pregame\";\nimport RegionRoulette from \"./scenes/regionRoulette\";\n\nimport Cursor from \"./components/cursor\";\n\nimport { GAME_PHASES, LSKEY } from \"./logic/constants\";\n\nimport \"./App.css\";\n\nconst App = () => {\n  const [gamePhase, setGamePhase] = useState(\n    localStorage.getItem(LSKEY.GAME_PHASE)\n  );\n  const [gameData, setGameData] = useState(\n    JSON.parse(localStorage.getItem(LSKEY.GAME_DATA))\n  );\n\n  const changePhase = useCallback((newPhase) => {\n    localStorage.setItem(LSKEY.GAME_PHASE, newPhase);\n    setGamePhase(newPhase);\n  }, []);\n\n  const changeGameData = useCallback((newGameData) => {\n    console.log({ newGameData });\n    localStorage.setItem(LSKEY.GAME_DATA, JSON.stringify(newGameData));\n    setGameData(newGameData);\n  }, []);\n\n  return (\n    <>\n      <Background gamePhase={gamePhase}></Background>\n      {(gamePhase === null || gamePhase === GAME_PHASES.MENU) && (\n        <Menu changePhase={changePhase} />\n      )}\n      {gamePhase === GAME_PHASES.LOBBY_PREGAME && (\n        <Pregame changePhase={changePhase} changeGameData={changeGameData} />\n      )}\n      {gamePhase === GAME_PHASES.REGION_ROULETTE && (\n        <RegionRoulette\n          changePhase={changePhase}\n          gameData={gameData}\n          changeGameData={changeGameData}\n        />\n      )}\n      <Cursor></Cursor>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.jsx\";\n\nReactDOM.render(<App />, document.getElementById(\"app\"));\n"],"sourceRoot":""}